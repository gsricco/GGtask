{"ast":null,"code":"var _jsxFileName = \"/home/sergio/studyProjects/Testovie/Georgii/testovoe/src/common/components/forms/ContactForm/ContactForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport styles from \"./ContactForm.module.scss\";\nimport { validateForm } from \"./validateForm\";\nimport { sendFormData } from \"../../../../api/contactAPI\";\nimport InputMask from \"react-input-mask\";\nimport { Modal } from \"../../modal/Modal\";\nimport { useDispatch } from \"react-redux\";\nimport { sendRequest } from \"../../../../store/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ContactForm = () => {\n  _s();\n  const dispatch = useDispatch();\n  const formItems = [{\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Введите ваше имя\",\n    label: \"Имя\"\n  }, {\n    type: \"email\",\n    id: \"email\",\n    placeholder: \"Введите ваш E-mail\",\n    label: \"E-mail\"\n  }, {\n    type: \"text\",\n    id: \"phone\",\n    placeholder: \"Введите номер в формате +375 ХХ ХХХ ХХ ХХ\",\n    label: \"Телефон\"\n  }, {\n    type: \"message\",\n    id: \"message\",\n    placeholder: \"Введите ваше сообщение\",\n    label: \"Сообщение\"\n  }];\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState('');\n  const [err, setErr] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const validationErrors = validateForm(formData);\n    if (Object.keys(validationErrors).length === 0) {\n      try {\n        dispatch(sendRequest(request));\n        const data = await sendFormData(formData);\n        setMessage(data.message);\n        setOpen(true);\n        setErr(false);\n        setFormData({\n          name: \"\",\n          email: \"\",\n          phone: \"\",\n          message: \"\"\n        });\n      } catch (error) {\n        setOpen(true);\n        setMessage(String(error));\n        setErr(true);\n      }\n      const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;\n      document.body.style.paddingRight = `${scrollBarWidth}px`;\n      document.body.style.overflow = 'hidden';\n      setErrors({});\n    } else {\n      setErrors(validationErrors);\n    }\n  };\n  const handleCloseModal = () => {\n    setOpen(false);\n    document.body.style.paddingRight = '0';\n    document.body.style.overflow = 'auto';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.formContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0442\\u043D\\u043E\\u0439 \\u0441\\u0432\\u044F\\u0437\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [formItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: errors[item.id] ? styles.formItemError : styles.formItem,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: item.id,\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), item.type === \"message\" ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: item.id,\n          name: item.id,\n          placeholder: item.placeholder,\n          rows: 4,\n          onChange: handleChange,\n          value: formData[item.id],\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this) : item.id === \"phone\" ? /*#__PURE__*/_jsxDEV(InputMask, {\n          mask: \"+375 (99) 999-99-99\",\n          type: item.type,\n          id: item.id,\n          name: item.id,\n          placeholder: item.placeholder,\n          onChange: handleChange,\n          value: formData[item.id],\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n          type: item.type,\n          id: item.id,\n          name: item.id,\n          placeholder: item.placeholder,\n          onChange: handleChange,\n          value: formData[item.id],\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }, this), errors[item.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          children: errors[item.id]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 35\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)), open && /*#__PURE__*/_jsxDEV(Modal, {\n        handleCloseModal: handleCloseModal,\n        message: message,\n        err: err,\n        title: \"Server response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(ContactForm, \"3bAK+VC9ChphMLoKBBXeJ2V3ydc=\", false, function () {\n  return [useDispatch];\n});\n_c = ContactForm;\nvar _c;\n$RefreshReg$(_c, \"ContactForm\");","map":{"version":3,"names":["React","useState","styles","validateForm","sendFormData","InputMask","Modal","useDispatch","sendRequest","jsxDEV","_jsxDEV","ContactForm","_s","dispatch","formItems","type","id","placeholder","label","formData","setFormData","name","email","phone","message","errors","setErrors","open","setOpen","setMessage","err","setErr","handleChange","e","value","target","handleSubmit","preventDefault","validationErrors","Object","keys","length","request","data","error","String","scrollBarWidth","window","innerWidth","document","documentElement","clientWidth","body","style","paddingRight","overflow","handleCloseModal","className","formContainer","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","item","formItemError","formItem","htmlFor","rows","onChange","required","mask","title","_c","$RefreshReg$"],"sources":["/home/sergio/studyProjects/Testovie/Georgii/testovoe/src/common/components/forms/ContactForm/ContactForm.tsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport styles from \"./ContactForm.module.scss\";\nimport {validateForm} from \"./validateForm\";\nimport {sendFormData} from \"../../../../api/contactAPI\";\nimport InputMask from \"react-input-mask\";\nimport {Modal} from \"../../modal/Modal\";\nimport {IFormData} from \"../../../types/types\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {sendRequest} from \"../../../../store/actions\";\nimport {RootState} from \"../../../../store/store\";\n\nexport const ContactForm = () => {\n  const dispatch = useDispatch();\n\n  const formItems = [\n    {type: \"text\", id: \"name\", placeholder: \"Введите ваше имя\", label: \"Имя\"},\n    {type: \"email\", id: \"email\", placeholder: \"Введите ваш E-mail\", label: \"E-mail\"},\n    {type: \"text\", id: \"phone\", placeholder: \"Введите номер в формате +375 ХХ ХХХ ХХ ХХ\", label: \"Телефон\"},\n    {type: \"message\", id: \"message\", placeholder: \"Введите ваше сообщение\", label: \"Сообщение\"},\n  ]\n  const [formData, setFormData] = useState<IFormData>({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n  });\n\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\n\n  const [open, setOpen] = useState(false)\n  const [message, setMessage] = useState('')\n  const [err, setErr] = useState(false)\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const {name, value} = e.target;\n    setFormData({...formData, [name]: value});\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const validationErrors = validateForm(formData);\n\n    if (Object.keys(validationErrors).length === 0) {\n      try {\n        dispatch(sendRequest(request));\n        const data = await sendFormData(formData);\n        setMessage(data.message);\n        setOpen(true);\n        setErr(false)\n        setFormData({\n          name: \"\",\n          email: \"\",\n          phone: \"\",\n          message: \"\",\n        });\n      } catch (error) {\n        setOpen(true);\n        setMessage(String(error));\n        setErr(true)\n      }\n      const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;\n      document.body.style.paddingRight = `${scrollBarWidth}px`;\n      document.body.style.overflow = 'hidden';\n      setErrors({})\n    } else {\n      setErrors(validationErrors);\n    }\n  };\n  const handleCloseModal = () => {\n    setOpen(false);\n    document.body.style.paddingRight = '0';\n    document.body.style.overflow = 'auto';\n\n  };\n\n  return (\n    <div className={styles.formContainer}>\n      <h2>Форма обратной связи</h2>\n      <form onSubmit={handleSubmit}>\n        {\n          formItems.map((item) => (\n            <div key={item.id} className={errors[item.id] ? styles.formItemError : styles.formItem}>\n              <label htmlFor={item.id}>{item.label}</label>\n              {item.type === \"message\" ?\n                <textarea id={item.id} name={item.id} placeholder={item.placeholder} rows={4} onChange={handleChange}\n                          value={formData[item.id as keyof IFormData]} required></textarea>\n                :\n                item.id === \"phone\" ?\n                  <InputMask mask=\"+375 (99) 999-99-99\" type={item.type} id={item.id} name={item.id}\n                             placeholder={item.placeholder}\n                             onChange={handleChange}\n                             value={formData[item.id as keyof IFormData]} required/>\n                  :\n                  <input type={item.type} id={item.id} name={item.id} placeholder={item.placeholder}\n                         onChange={handleChange}\n                         value={formData[item.id as keyof IFormData]} required/>}\n\n              {errors[item.id] && <div className={styles.error}>{errors[item.id]}</div>}\n            </div>\n          ))\n        }\n        {open && <Modal handleCloseModal={handleCloseModal} message={message} err={err} title={\"Server response\"}/>}\n          <button type=\"submit\">Отправить</button>\n          </form>\n          </div>\n          );\n        };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}